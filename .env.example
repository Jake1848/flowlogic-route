# ==============================================================================
# FlowLogic RouteAI - Environment Configuration Template
# ==============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control

# ==============================================================================
# DEPLOYMENT CONFIGURATION
# ==============================================================================

# Environment (development, staging, production)
ENVIRONMENT=production

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================

# PostgreSQL Database
POSTGRES_DB=flowlogic
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_PORT=5432

# Database URLs for application
DATABASE_URL=postgresql://postgres:your_secure_password_here@postgres:5432/flowlogic
ASYNC_DATABASE_URL=postgresql+asyncpg://postgres:your_secure_password_here@postgres:5432/flowlogic

# ==============================================================================
# REDIS CONFIGURATION
# ==============================================================================

# Redis for caching and rate limiting
REDIS_URL=redis://redis:6379/0
REDIS_PORT=6379

# ==============================================================================
# FIREBASE AUTHENTICATION
# ==============================================================================

# Firebase Service Account (JSON string or file path)
# Get this from Firebase Console > Project Settings > Service Accounts
FIREBASE_SERVICE_ACCOUNT_JSON={"type":"service_account","project_id":"your-project","private_key_id":"..."}

# ==============================================================================
# STRIPE BILLING CONFIGURATION
# ==============================================================================

# Stripe API Keys (get from Stripe Dashboard)
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe Price IDs for subscription tiers
STRIPE_PRICE_STARTER=price_stripe_starter_id
STRIPE_PRICE_PROFESSIONAL=price_stripe_professional_id
STRIPE_PRICE_ENTERPRISE=price_stripe_enterprise_id

# ==============================================================================
# EXTERNAL API INTEGRATIONS (OPTIONAL)
# ==============================================================================

# OpenAI API for natural language processing
OPENAI_API_KEY=sk-your_openai_api_key

# GraphHopper API for real-world routing (optional)
GRAPHHOPPER_API_KEY=your_graphhopper_api_key

# ==============================================================================
# DOMAIN CONFIGURATION
# ==============================================================================

# API Domain for routing
API_DOMAIN=api.flowlogic.ai

# ACME Email for Let's Encrypt SSL certificates
ACME_EMAIL=admin@flowlogic.ai

# ==============================================================================
# ADMIN USER SETUP
# ==============================================================================

# Create admin user on first deployment
CREATE_ADMIN=true
ADMIN_EMAIL=admin@flowlogic.ai
ADMIN_FIREBASE_UID=your_firebase_uid_from_console

# ==============================================================================
# SECURITY CONFIGURATION
# ==============================================================================

# JWT Secret for API tokens (generate a secure random string)
JWT_SECRET=your_jwt_secret_key_here

# API Rate Limits (requests per minute)
RATE_LIMIT_FREE=10
RATE_LIMIT_STARTER=60
RATE_LIMIT_PROFESSIONAL=300
RATE_LIMIT_ENTERPRISE=1000

# ==============================================================================
# LOGGING & MONITORING
# ==============================================================================

# Log Level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Sentry DSN for error tracking (optional)
SENTRY_DSN=https://your_sentry_dsn

# ==============================================================================
# BACKUP CONFIGURATION
# ==============================================================================

# Backup retention (days)
BACKUP_RETENTION_DAYS=30

# S3 backup configuration (optional)
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
S3_BACKUP_BUCKET=flowlogic-backups
S3_BACKUP_REGION=us-east-1

# ==============================================================================
# DEVELOPMENT OVERRIDES
# ==============================================================================
# These settings are only used in development mode

# Development database (for local development)
DEV_DATABASE_URL=postgresql://postgres:password@localhost:5432/flowlogic_dev

# Development Redis
DEV_REDIS_URL=redis://localhost:6379/0

# Mock external services in development
MOCK_STRIPE=false
MOCK_FIREBASE=false
MOCK_OPENAI=false

# ==============================================================================
# DOCKER COMPOSE OVERRIDES
# ==============================================================================

# Service scaling
API_REPLICAS=1
POSTGRES_REPLICAS=1
REDIS_REPLICAS=1

# Resource limits
API_MEMORY_LIMIT=1g
POSTGRES_MEMORY_LIMIT=2g
REDIS_MEMORY_LIMIT=512m

# ==============================================================================
# CLOUD DEPLOYMENT SPECIFIC
# ==============================================================================

# For Railway deployment
RAILWAY_STATIC_URL=
RAILWAY_GIT_COMMIT_SHA=

# For Render deployment  
RENDER_SERVICE_ID=
RENDER_GIT_COMMIT=

# For Fly.io deployment
FLY_APP_NAME=flowlogic-api
FLY_REGION=iad

# ==============================================================================
# SSL CERTIFICATE CONFIGURATION
# ==============================================================================

# For manual SSL certificate management
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# For Let's Encrypt automatic certificates
LETSENCRYPT_EMAIL=admin@flowlogic.ai
LETSENCRYPT_STAGING=false

# ==============================================================================
# CORE ROUTING CONFIGURATION
# ==============================================================================

# Application Configuration
MAX_STOPS_PER_TRUCK=50
DEFAULT_SERVICE_TIME_MINUTES=15